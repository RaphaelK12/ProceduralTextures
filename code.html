<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>GLSL Shader Code</title>

		<link type='text/css' rel='stylesheet' href="css/zenburn.css">
		<style>
			body {
	  			background: #3f3f3f;
			}

			h1 {
				color: white;
				font-family: Courier, Arial;
			}

			pre {
				font-size: medium;
			}

			canvas.right {
				position: absolute;
				right: 10px;
				background-color: #fff;
			}
		</style>
		
		<script type="text/javascript" src="src/highlight.min.js"></script>
		<script type="text/javascript" src="src/glslCanvas.js"></script>
	</head>
	<body>
		<h1 id="demoTitle" >FILE NAME.frag</h1>

		<canvas id="demoCanvas" class="right" width="500" height="500"></canvas>

		<pre>
			<code id="demoCode" class="glsl">
				
				code will be injected here

			</code>
		</pre>

		<script type="text/javascript">
			window.addEventListener("hashchange", function () {
				loadTag()
			}, false);

			function loadTag(){
				var fragShaderURL = window.location.hash === "" ? "src/default.frag" : window.location.hash.substr(1);

				var demoTitle = document.getElementById("demoTitle");
				if(demoTitle){
					demoTitle.innerText = fragShaderURL;
				}

				var demoCode = document.getElementById("demoCode");
			    if(demoCode){
			        demoCode.innerHTML = fetchHTTP(fragShaderURL);
			        hljs.highlightBlock(demoCode);
			    }

			    var demoCanvas = document.getElementById("demoCanvas");
			    if(demoCanvas){
			    	demoCanvas.setAttribute("src", fragShaderURL);
			    }

			    loadShaders();
			}

			window.onload = function () { 
				loadTag();
				renderShaders(); 
			};
		</script>
	</body>
</html>